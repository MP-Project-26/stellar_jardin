import{r as s,a,j as n,c as g}from"./app-fd46c604.js";const x=({data:i,dataUnitKavling:r})=>{const[e,d]=s.useState(null),[c,u]=s.useState("");s.useEffect(()=>{i!==void 0&&d(i)},[i]);const t=o=>{const{name:l,value:m}=o.target;d(h=>({...h,[l]:m}))},p=s.useRef(null);return s.useEffect(()=>{c&&(localStorage.setItem("message",c),window.location.reload())},[c]),s.useEffect(()=>{const o=localStorage.getItem("message");o&&(alert(o),localStorage.removeItem("message"))},[]),a("div",{children:n("dialog",{id:"my_modal_2",className:"modal",children:[n("div",{className:"modal-box w-11/12 max-w-5x flex flex-col gap-3 bg-white",children:[a("button",{onClick:()=>window.my_modal_2.close(),className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"âœ•"}),n("form",{onSubmit:o=>{if(o.preventDefault(),e){const l=new FormData;l.append("nama_lengkap",e.nama_lengkap),l.append("email",e.email),l.append("no_wa",e.no_wa),l.append("alamat",e.alamat),l.append("pesan",e.pesan),l.append("no_unit",e.no_unit),l.append("sistem_pengajuan",e.sistem_pengajuan),g.post(`/admin/update_pesanan/${e.id}`,l).then(m=>{window.my_modal_2.close(),u(m.data.message)}).catch(m=>{console.log(m)})}else alert("Data Kosong")},ref:p,method:"dialog",children:[a("div",{className:"w-full flex justify-center",children:a("h3",{className:"font-bold text-xl",children:"Edit Data Pemesanan"})}),a("div",{className:"flex flex-col",children:a("input",{className:"border-2 border-gray-400 rounded-md",type:"text",id:"id_pemesanan",name:"id_pemesanan",value:(e==null?void 0:e.id)||"",onChange:t,hidden:!0,autoComplete:"on"})}),n("div",{className:"flex flex-col",children:[a("label",{htmlFor:"customer_name",children:"Nama Customer :"}),a("input",{className:"border-2 border-gray-400 rounded-md",type:"text",id:"customer_name",name:"nama_lengkap",value:(e==null?void 0:e.nama_lengkap)||"",onChange:t,autoComplete:"on"})]}),n("div",{className:"flex flex-col",children:[a("label",{htmlFor:"email",children:"Email :"}),a("input",{className:"border-2 border-gray-400 rounded-md",type:"email",id:"email",name:"email",value:(e==null?void 0:e.email)||"",onChange:t,autoComplete:"on"})]}),n("div",{className:"flex flex-col",children:[a("label",{htmlFor:"no_wa",children:"Nomor WhatsApp :"}),a("input",{className:"border-2 border-gray-400 rounded-md",type:"text",id:"no_wa",name:"no_wa",value:(e==null?void 0:e.no_wa)||"",onChange:t,autoComplete:"on"})]}),n("div",{className:"flex flex-col",children:[a("label",{htmlFor:"alamat",children:"Alamat :"}),a("textarea",{className:"border-2 border-gray-400 rounded-md",type:"text",id:"alamat",name:"alamat",value:(e==null?void 0:e.alamat)||"",onChange:t,autoComplete:"on"})]}),n("div",{className:"flex flex-col",children:[a("label",{htmlFor:"pesan",children:"Pesan :"}),a("textarea",{className:"border-2 border-gray-400 rounded-md",type:"text",id:"pesan",name:"pesan",value:(e==null?void 0:e.pesan)||"",onChange:t,autoComplete:"on"})]}),n("div",{className:"flex flex-col",children:[a("label",{htmlFor:"no_unit",className:"mb-2 w-full",children:"Unit/Kavling"}),n("select",{name:"no_unit",id:"no_unit",value:(e==null?void 0:e.no_unit)||"",className:"border border-gray-300 rounded-md px-2 py-1 lg:w-[50%] md:w-[100%] w-full lg:mr-3",onChange:t,autoComplete:"on",children:[a("option",{value:(e==null?void 0:e.no_unit)||"",children:(e==null?void 0:e.no_unit)||""}),r.map((o,l)=>a("option",{value:o.name,children:o.name},l))]})]}),n("div",{className:"flex flex-col",children:[a("label",{htmlFor:"sistem_pengajuan",children:"Sistem Pengajuan :"}),n("select",{required:!0,name:"sistem_pengajuan",id:"sisitem_pengajuan",className:"border border-gray-300 rounded-md px-2 py-1 lg:w-[50%] md:w-[100%] w-full lg:mr-3",value:(e==null?void 0:e.sistem_pengajuan)||"",onChange:t,autoComplete:"on",children:[a("option",{value:e==null?void 0:e.sistem_pengajuan,children:e==null?void 0:e.sistem_pengajuan}),a("option",{value:"kpr",children:"Kpr"}),a("option",{value:"cash",children:"Cash"}),a("option",{value:"cash bertahap",children:"Cash Bertahap"})]})]}),a("div",{className:"flex flex-col w-full justify-center items-center mt-4",children:a("button",{className:"bg-blue-600 w-[30%] py-2 rounded-2xl hover:bg-blue-500 text-white",type:"submit",children:"Simpan Perubahan"})})]})]}),a("form",{method:"dialog",className:"modal-backdrop",children:a("button",{children:"close"})})]})})};export{x as default};
