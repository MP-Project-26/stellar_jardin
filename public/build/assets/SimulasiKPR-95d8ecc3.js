import{r as m,W as D,a,j as s,c as M}from"./app-fd46c604.js";import{L as T}from"./Layout-047ece4e.js";import"./aos-7cdcffb8.js";const W=({title:h})=>{const[_,g]=m.useState(!1),f=()=>{g(!0),setTimeout(()=>{g(!1)},1e3)},{data:l,setData:t,errors:n,post:C}=D({nilai_properti:"0",persentase_uang_muka:"",suku_bunga:"13",jangka_waktu:"5"}),[r,o]=m.useState(""),[c,d]=m.useState(""),[p,k]=m.useState(""),b=async e=>{if(e.preventDefault(),x())try{const u=l.nilai_properti.replace(/\D/g,""),i=parseInt(u,10),w=l.persentase_uang_muka.replace(/\D/g,""),N=parseInt(w,10),y=l.suku_bunga.replace(/\D/g,""),v=parseInt(y,10),j=l.jangka_waktu.replace(/\D/g,""),P=parseInt(j,10),I=await M.post("/simulasi_kpr",{nilai_properti:i,persentase_uang_muka:N,suku_bunga:v,jangka_waktu:P}),{cicilan_bulanan:S,jumlah_pengajuan:V,uang_muka:B}=I.data;o(S),d(V),k(B)}catch(u){console.log(u)}else o(""),d(""),k("")},x=()=>{let e=!0;return l.nilai_properti===""?(t("nilai_properti",""),n.nilai_properti="Nilai Properti harus diisi",e=!1):parseInt(l.nilai_properti)===0?(t("nilai_properti",""),n.nilai_properti="Nilai Properti minimal 1",e=!1):n.nilai_properti="",l.persentase_uang_muka===""?(t("persentase_uang_muka",""),n.persentase_uang_muka="Persentase Uang Muka harus diisi",e=!1):parseInt(l.persentase_uang_muka)<10?(t("persentase_uang_muka",""),n.persentase_uang_muka="Persentase Uaang Muka minimal 10 pesen",e=!1):parseInt(l.persentase_uang_muka)>100?(t("persentase_uang_muka",""),n.persentase_uang_muka="Persentase Uang Muka maksimal 100 persen",e=!1):n.persentase_uang_muka="",l.suku_bunga===""?(t("suku_bunga",""),n.suku_bunga="Suku Bunga per Tahun harus diisi",e=!1):parseInt(l.suku_bunga)<10?(t("suku_bunga",""),n.suku_bunga="Suku Bunga per Tahun minimal 10 pesen",e=!1):parseInt(l.suku_bunga)>100?(t("suku_bunga",""),n.suku_bunga="Suku Bunga per Tahun maksimal 100 persen",e=!1):n.suku_bunga="",l.jangka_waktu===""?(n.jangka_waktu="Jangka Waktu KPR harus diisi",e=!1):parseInt(l.jangka_waktu)<1?(n.jangka_waktu="Jangka Waktu KPR minimal 1 Tahun",e=!1):parseInt(l.jangka_waktu)>20?(n.jangka_waktu="Jangka Waktu KPR  maksimal 20 Tahun",e=!1):n.jangka_waktu="",e};return a(T,{title:h,children:s("div",{className:"w-full h-auto my-32 flex justify-center flex-col items-center px-9",children:[s("div",{className:"w-full flex flex-col items-center mb-10",children:[s("h1",{className:"font-sans font-bold text-3xl lg:text-5xl",children:["Simulasi ",a("span",{className:"text-[#0D7377]",children:"KPR"})]}),a("p",{children:"(Bunga Flat)"})]}),s("form",{onSubmit:b,className:"flex flex-col lg:w-[50%] md:w-[70%] w-full gap-4  md:px-0",children:[s("div",{className:"flex flex-col w-full",children:[a("label",{children:"Harga Properti:"}),s("div",{className:"w-ful flex flex-row",children:[a("h1",{className:"bg-green-custom p-2 text-white",children:"Rp."}),a("input",{className:"w-full",id:"nilai_properti",type:"text",name:"nilai_properti",value:(e=>{const u=e.replace(/\D/g,"");return parseInt(u,10).toLocaleString("id-ID")})(l.nilai_properti),onChange:e=>{const u=e.target.value;parseInt(u,10)>=0?t("nilai_properti",u):t("nilai_properti","0")}})]}),n.nilai_properti&&a("span",{style:{color:"red"},children:n.nilai_properti})]}),s("div",{className:"flex flex-col",children:[a("label",{children:"Persentase Uang Muka (DP):"}),s("div",{className:"flex",children:[a("input",{className:"w-full",id:"persentase_uang_muka",type:"number",name:"persentase_uang_muka",onChange:e=>{const u=e.target.value;parseInt(u,10)>=0?t("persentase_uang_muka",u):t("persentase_uang_muka","")}}),a("h1",{className:"bg-green-custom px-4 py-2 w-auto text-center text-white",children:"%"})]}),n.persentase_uang_muka&&a("span",{style:{color:"red"},children:n.persentase_uang_muka})]}),s("div",{className:"flex flex-col ",children:[a("label",{children:"Suku Bunga per Tahun:"}),s("div",{className:"flex",children:[a("input",{disabled:!0,className:"w-full bg-gray-200",id:"suku_bunga",type:"number",name:"suku_bunga",value:l.suku_bunga,onChange:e=>{const u=e.target.value;parseInt(u,10)>=0?t("suku_bunga",u):t("suku_bunga","")}}),a("h1",{className:"bg-green-custom px-4 py-2 w-auto text-center text-white",children:"%"})]}),a("span",{className:"text-yellow-700",children:"*Suku bunga tahunan sudah berdasarkan hasil riset terbaru"})]}),s("div",{className:"flex flex-col",children:[s("label",{children:["Jangka Waktu KPR : ",l.jangka_waktu," Tahun"]}),s("div",{className:"flex justify-between text-xs px-2",children:[a("span",{children:"|"}),a("span",{children:"|"}),a("span",{children:"|"}),a("span",{children:"|"})]}),a("input",{type:"range",min:5,max:20,value:l.jangka_waktu,className:"range range-secondary",onChange:e=>t("jangka_waktu",e.target.value)}),s("div",{className:"flex justify-between text-xs px-2",children:[a("span",{children:"5 tahun"}),a("span",{children:"10 tahun"}),a("span",{children:"15 tahun"}),a("span",{children:"20 tahun"})]}),n.jangka_waktu&&a("span",{style:{color:"red"},children:n.jangka_waktu})]}),_&&r&&c&&p?a("div",{className:"flex justify-center w-full",children:a("span",{className:"loading loading-bars loading-sm"})}):a("div",{children:r&&c&&p?s("div",{className:"overflow-x-auto w-full",children:[s("table",{className:"table",children:[a("thead",{children:a("tr",{children:a("th",{children:a("h1",{children:"Hasil Simulasi"})})})}),s("tbody",{children:[s("tr",{children:[a("th",{children:"Uang Muka : "}),a("th",{children:p})]}),s("tr",{children:[a("th",{children:"Cicilan Bulanan : "}),a("th",{children:r})]}),s("tr",{children:[s("th",{children:["Jumlah Pengajuan Pinjaman :"," "]}),a("th",{children:c})]})]})]}),a("div",{className:"kpr-disclaimer bg-gradient-to-r from-teal-500 to-teal-600 py-4 px-6 text-white",children:a("p",{className:"text-sm",children:"Simulasi KPR ini hanya sebagai referensi dan tidak mengikat. Informasi yang diberikan adalah perkiraan berdasarkan suku bunga dan persyaratan umum yang berlaku. Sebelum mengambil keputusan, pastikan Anda memperoleh informasi yang akurat dan melakukan konsultasi dengan pihak bank atau lembaga keuangan yang bersangkutan."})})]}):(r||c||p)&&a("span",{className:"text-red-300",children:"Masukkan data yang valid"})}),a("div",{className:"w-full flex justify-center mt-3",children:a("button",{className:"w-32 p-2 bg-green-custom text-white rounded-md hover:bg-blue-gray-500",type:"submit",onClick:f,children:"Hitung"})})]}),a("div",{className:"lg:w-[50%] md:w-[70%] mt-5"})]})})};export{W as default};
